{"version":3,"sources":["components/dashboard/generate_tokens/ViewersList.js","utilities/withToast.js","components/dashboard/GenerateTokens.js","components/dashboard/video_setup/VideoForm.js","components/dashboard/video_setup/VideoPreview.js","components/dashboard/video_setup/VideoButtons.js","components/dashboard/VideoSetup.js","components/Dashboard.js","components/livestream/Nav.js","components/livestream/Video.js","components/livestream/agenda_components/ToggleAgenda.js","components/livestream/agenda_components/AgendaTable.js","components/livestream/Agenda.js","components/LiveStream.js","components/Logout.js","components/404.js","App.js","serviceWorker.js","index.js","components/livestream/Video.module.scss","components/livestream/Nav.module.scss","components/dashboard/video_setup/VideoPreview.module.scss","components/dashboard/GenerateTokens.module.scss","components/dashboard/video_setup/VideoForm.module.scss","components/livestream/agenda_components/ToggleAgenda.module.scss"],"names":["ViewersList","viewers","useContext","ViewersContext","map","id","full_name","phoneNo","live_token","is_live","key","toast","configure","withToast","WrappedComponent","TOAST_PROPERTIES","position","autoClose","hideProgressBar","success","msg","error","toasts","this","props","React","Component","memo","errorToast","successToast","dispatchViewers","useState","loading","setLoading","Row","as","Col","className","styles","table","Table","striped","hover","responsive","colSpan","style","textAlign","Spinner","animation","size","role","aria-hidden","xs","md","Button","disabled","onClick","axios","get","then","response","type","payload","data","catch","message","block","stateDispatch","VideoContext","dispatch","videoLink","setVideoLink","videoName","setVideoName","Form","video_form","onSubmit","event","preventDefault","now","Date","date","dateFormat","created_at","post","Group","controlId","Label","Control","placeholder","name","value","onChange","e","target","VideoPreview","video_link","state","video","hasPreview","setHasPreview","previewLink","setPreviewLink","useEffect","title","height","src","frameBorder","allowFullScreen","preview_container","preview_font","icon","is_active","variant","start","end","createContext","initialState","reducer","action","useReducer","length","console","log","Provider","Container","withRouter","history","LiveContext","viewer","fluid","Navbar","navigation_container","bg","expand","Brand","brand","href","Toggle","aria-controls","Collapse","Link","Item","separator","logout","push","videoStatus","videoStatusVariant","scrolling","allow","lg","details","Badge","pill","user","ToggleAgenda","handleClick","button","color","AgendaTable","agenda","fontSize","question","isVisible","setIsVisible","setAgenda","toggleAgenda","useCallback","my_props","token","match","params","useCookies","cookies","setCookie","user_token","expiry","setHours","getHours","path","expires","withCookies","remove","Route404","App","exact","component","Dashboard","Logout","LiveStream","Boolean","window","location","hostname","ReactDOM","render","StrictMode","CookiesProvider","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.be9a0594.chunk.js","sourcesContent":["import React, { useContext } from 'react';\r\nimport { ViewersContext } from '../../Dashboard';\r\n\r\nfunction ViewersList() {\r\n  const { viewers } = useContext(ViewersContext)\r\n\r\n  return (\r\n    <tbody>\r\n      {\r\n        viewers && viewers.map(({ id, full_name, phoneNo, live_token, is_live }) => {\r\n          return (\r\n            <tr key={`viewer_${id}`}>\r\n              <td>{id}</td>\r\n              <td>{full_name}</td>\r\n              <td>{phoneNo}</td>\r\n              <td>{live_token}</td>\r\n              <td>{is_live}</td>\r\n            </tr>\r\n          )\r\n        })\r\n      }\r\n    </tbody>\r\n  );\r\n}\r\n\r\nexport default ViewersList;","import React from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\ntoast.configure()\r\nconst withToast = WrappedComponent => {\r\n  class WithToast extends React.Component {\r\n\r\n    TOAST_PROPERTIES = {\r\n      position: \"bottom-right\",\r\n      autoClose: 3000,\r\n      hideProgressBar: true,\r\n    }\r\n\r\n    success = (msg) => {\r\n      toast.success(msg, this.TOAST_PROPERTIES)\r\n    }\r\n\r\n    error = (msg) => {\r\n      toast.error(msg, this.TOAST_PROPERTIES)\r\n    }\r\n\r\n    render() {\r\n      const toasts = {\r\n        success: this.success,\r\n        error: this.error\r\n      }\r\n\r\n      return <WrappedComponent {...toasts} {...this.props} />\r\n    }\r\n  }\r\n\r\n  return WithToast\r\n};\r\n\r\nexport default withToast;","import React, { useContext, useState } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport {\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Table,\r\n  Spinner,\r\n} from '../../utilities/BootstrapImports'\r\n\r\nimport styles from \"./GenerateTokens.module.scss\"\r\n\r\nimport ViewersList from './generate_tokens/ViewersList'\r\nimport { ViewersContext } from '../Dashboard'\r\nimport withToast from '../../utilities/withToast'\r\n\r\nfunction GenerateTokens({ error: errorToast, success: successToast }) {\r\n  const { dispatchViewers } = useContext(ViewersContext)\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const generateTokens = () => {\r\n    setLoading(true)\r\n\r\n    axios.get('https://secure.comp-rite.co.ke/livestream/setTokens.php')\r\n      .then(response => {\r\n        dispatchViewers({ type: 'FETCH_SUCCESS', payload: response.data })\r\n        setLoading(false)\r\n        successToast(\"Live tokens generated successfully\")\r\n      })\r\n      .catch(error => errorToast(\"Error generating tokens: \" + error.message))\r\n  }\r\n\r\n  return (\r\n    <Row as=\"section\">\r\n      <Col>\r\n        {/* Viewers Table */}\r\n        <div className=\"m-2\">\r\n          <div className={styles.table}>\r\n            <Table striped hover responsive=\"sm\">\r\n              <thead>\r\n                <tr>\r\n                  <th>id</th>\r\n                  <th>Fullname</th>\r\n                  <th>Phone number</th>\r\n                  <th>Live token</th>\r\n                  <th>Live</th>\r\n                </tr>\r\n              </thead>\r\n              {\r\n                !loading ? <ViewersList /> : (\r\n                  <tbody>\r\n                    <tr>\r\n                      <td colSpan=\"5\" style={{ textAlign: \"center\" }}>\r\n                        GENERATING TOKENS <Spinner\r\n                          as=\"span\"\r\n                          animation=\"border\"\r\n                          size=\"sm\"\r\n                          role=\"status\"\r\n                          aria-hidden=\"true\"\r\n                        />\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                )\r\n              }\r\n\r\n            </Table>\r\n          </div>\r\n\r\n          {/* GenerateTokens Button */}\r\n          <Row className=\"mt-2\" xs=\"1\" md=\"3\">\r\n            <Col>\r\n              <Button disabled={loading} onClick={generateTokens} block>GENERATE TOKENS</Button>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default React.memo(withToast(GenerateTokens))","import React, { useState, useContext } from 'react';\r\nimport axios from 'axios'\r\nimport dateFormat from 'dateformat'\r\n\r\nimport styles from './VideoForm.module.scss'\r\n\r\nimport {\r\n  Col,\r\n  Form,\r\n  Button,\r\n} from '../../../utilities/BootstrapImports'\r\n\r\nimport withToast from '../../../utilities/withToast';\r\nimport { VideoContext } from '../VideoSetup';\r\n\r\nfunction VideoForm({ error: errorToast, success: successToast }) {\r\n  const { dispatch: stateDispatch } = useContext(VideoContext)\r\n\r\n  // States for text inputs \r\n  const [videoLink, setVideoLink] = useState(\"\")\r\n  const [videoName, setVideoName] = useState(\"\")\r\n\r\n  const submitVideoDetails = (event) => {\r\n    event.preventDefault()\r\n\r\n    //Get dates and time for video setup\r\n    const now = Date.now()\r\n    const date = (dateFormat(now, \"mediumDate\"))\r\n    const created_at = (dateFormat(now, \"isoTime\"))\r\n\r\n    //Call api to save data in database\r\n    axios.post('https://secure.comp-rite.co.ke/livestream/addNewVideo.php', {\r\n      videoLink,\r\n      videoName,\r\n      date,\r\n      created_at\r\n    })\r\n      .then(response => {\r\n        successToast('Video added successfully')\r\n        stateDispatch({ type: 'FETCH_SUCCESS', payload: response.data[0] })\r\n      })\r\n      .catch(error => errorToast(\"Error adding video: \" + error.message))\r\n\r\n    // Cleat text inputs\r\n    setVideoLink(\"\")\r\n    setVideoName(\"\")\r\n  }\r\n\r\n  return (\r\n    <Col>\r\n      <Form className={styles.video_form} onSubmit={submitVideoDetails}>\r\n        <fieldset>\r\n          <legend>Add new video</legend>\r\n\r\n          <Form.Group controlId=\"form_video_name\">\r\n            <Form.Label>Video Name</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"Enter video name\"\r\n              name=\"videoName\"\r\n              value={videoName}\r\n              onChange={e => setVideoName(e.target.value)} />\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId=\"form_video_link\">\r\n            <Form.Label>Video Link</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"Enter video link\"\r\n              name=\"videoLink\"\r\n              value={videoLink}\r\n              onChange={e => setVideoLink(e.target.value)} />\r\n          </Form.Group>\r\n\r\n          <Button type=\"submit\">Set video details</Button>\r\n        </fieldset>\r\n      </Form>\r\n    </Col>\r\n  );\r\n}\r\n\r\nexport default React.memo(withToast(VideoForm));","import React, { useEffect, useState, useContext } from 'react';\r\n\r\nimport {\r\n  Row,\r\n  Col,\r\n} from '../../../utilities/BootstrapImports'\r\n\r\nimport { FiFolderPlus } from \"react-icons/fi\";\r\nimport styles from \"./VideoPreview.module.scss\";\r\nimport { VideoContext } from '../VideoSetup';\r\n\r\n\r\nfunction VideoPreview() {\r\n  const { state: { video: { video_link } } } = useContext(VideoContext)\r\n\r\n  const [hasPreview, setHasPreview] = useState(false)\r\n  const [previewLink, setPreviewLink] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n    if (video_link) {\r\n      setPreviewLink(video_link)\r\n      setHasPreview(true)\r\n    }\r\n    else {\r\n      setPreviewLink(\"\")\r\n      setHasPreview(false)\r\n    }\r\n  }, [video_link])\r\n\r\n  return (\r\n    <>\r\n      {/* Video Preview Video*/}\r\n      {\r\n        !hasPreview ?\r\n          (\r\n            <Row className={`${styles.preview_container} m-0 mt-5 mt-md-2`}>\r\n              <Col className={`${styles.preview_font} text-center my-auto`}>\r\n                <FiFolderPlus className={styles.icon} />\r\n                <p>NO VIDEO ADDED</p>\r\n              </Col>\r\n            </Row>\r\n          ) :\r\n          (\r\n            <Row className=\"m-0 mt-5 mt-md-2\">\r\n              <Col className=\"text-center my-auto p-0\">\r\n                <iframe\r\n                  title=\"Live Preview\"\r\n                  className=\"w-100 m-0\"\r\n                  height=\"200px\"\r\n                  src={previewLink}\r\n                  frameBorder=\"0\"\r\n                  allowFullScreen />\r\n              </Col>\r\n            </Row>\r\n          )\r\n      }\r\n    </>\r\n  );\r\n}\r\n\r\nexport default VideoPreview;","import React, { useContext } from 'react';\r\nimport axios from 'axios'\r\nimport dateFormat from 'dateformat'\r\n\r\nimport {\r\n  Row,\r\n  Col,\r\n  Button\r\n} from '../../../utilities/BootstrapImports'\r\n\r\nimport withToast from '../../../utilities/withToast';\r\nimport { VideoContext } from '../VideoSetup';\r\n\r\nfunction VideoButtons({ error: errorToast, success: successToast }) {\r\n  const { state: { video: { is_active } }, dispatch: stateDispatch } = useContext(VideoContext)\r\n\r\n  const startStream = () => {\r\n    const start = dateFormat(Date.now(), \"isoTime\")\r\n\r\n    axios.post(\"https://secure.comp-rite.co.ke/livestream/startStream.php\", { start })\r\n      .then(response => {\r\n        stateDispatch({ type: 'FETCH_SUCCESS', payload: response.data[0] })\r\n        successToast(\"Started video successfully\")\r\n      })\r\n      .catch(error => {\r\n        errorToast(\"Failed starting video \" + error.message)\r\n      })\r\n  }\r\n\r\n  const endStream = () => {\r\n    const end = dateFormat(Date.now(), \"isoTime\")\r\n\r\n    axios.post(\"https://secure.comp-rite.co.ke/livestream/endStream.php\", { end })\r\n      .then(response => {\r\n        stateDispatch({ type: 'FETCH_SUCCESS', payload: response.data[0] })\r\n        successToast(\"Ended video successfully\")\r\n      })\r\n      .catch(error => {\r\n        errorToast(\"Failed ending video \" + error.message)\r\n      })\r\n  }\r\n\r\n  const unstageVideo = () => {\r\n    axios.get(\"https://secure.comp-rite.co.ke/livestream/unstageVideo.php\")\r\n      .then(response => {\r\n        stateDispatch({ type: \"FETCH_SUCCESS\", payload: response.data })\r\n        successToast(\"Video unstaged successfully\")\r\n      })\r\n      .catch(error => {\r\n        errorToast(\"Failed unstaging video \" + error.message)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {/* Video Preview Buttons */}\r\n      <Row className=\"m-0 mt-2\">\r\n        {\r\n          is_active !== \"false\" ?\r\n            (\r\n              <>\r\n                <Col className=\"p-0 mr-1\">\r\n                  <Button disabled={is_active !== \"pending\"} variant=\"success\" block onClick={startStream}>\r\n                    {is_active && is_active !== \"pending\" ? \"Stream started\" : \"Start stream\"}\r\n                  </Button>\r\n                </Col>\r\n                <Col className=\"p-0 ml-1\">\r\n                  <Button disabled={!is_active || is_active === \"false\"} variant=\"danger\" block onClick={endStream}>\r\n                    {is_active && is_active === \"false\" ? \"Stream ended\" : \"End stream\"}\r\n                  </Button>\r\n                </Col>\r\n              </>\r\n            ) :\r\n            (\r\n              <Col className=\"p-0\">\r\n                <Button variant=\"secondary\" block onClick={unstageVideo}>\r\n                  Unstage video\r\n            </Button>\r\n              </Col>\r\n            )\r\n        }\r\n\r\n      </Row>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withToast(VideoButtons)","import React, { useReducer, useEffect } from 'react'\r\nimport axios from \"axios\"\r\nimport {\r\n  Row,\r\n  Col,\r\n} from '../../utilities/BootstrapImports'\r\n\r\nimport VideoForm from './video_setup/VideoForm'\r\nimport VideoPreview from './video_setup/VideoPreview'\r\nimport VideoButtons from './video_setup/VideoButtons'\r\n\r\nexport const VideoContext = React.createContext()\r\n\r\nconst initialState = {\r\n  loading: true,\r\n  error: '',\r\n  video: {},\r\n}\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'FETCH_SUCCESS':\r\n      return {\r\n        loading: false,\r\n        error: '',\r\n        video: action.payload\r\n      }\r\n\r\n    case 'FETCH_ERROR':\r\n      return {\r\n        loading: false,\r\n        error: action.payload,\r\n        video: action.payload\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nfunction VideoSetup() {\r\n  const [state, dispatch] = useReducer(reducer, initialState)\r\n\r\n  useEffect(() => {\r\n    axios.get('https://secure.comp-rite.co.ke/livestream/getVideo.php')\r\n      .then(response => {\r\n        if (response.data.length > 0) {\r\n          dispatch({ type: 'FETCH_SUCCESS', payload: response.data[0] })\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(\"Video table not available: \" + error.message)\r\n        dispatch({ type: 'FETCH_ERROR', payload: error.message })\r\n      })\r\n  }, [])\r\n\r\n  return (\r\n    <VideoContext.Provider value={{ state, dispatch }}>\r\n      <Row as=\"section\" xs={1} md={2}>\r\n\r\n        {/*Video Details Form*/}\r\n        <VideoForm />\r\n\r\n        {/* Video Preview */}\r\n        <Col>\r\n          <VideoPreview />\r\n\r\n          {/* Video Preview Buttons */}\r\n          <VideoButtons />\r\n        </Col>\r\n      </Row>\r\n    </VideoContext.Provider>\r\n  );\r\n}\r\n\r\nexport default React.memo(VideoSetup)","import React, { useReducer, useEffect, useState } from 'react';\r\nimport { Container } from '../utilities/BootstrapImports'\r\nimport GenerateTokens from './dashboard/GenerateTokens'\r\nimport VideoSetup from './dashboard/VideoSetup'\r\n\r\nimport axios from 'axios';\r\nimport withToast from '../utilities/withToast';\r\n\r\nexport const ViewersContext = React.createContext()\r\n\r\nconst initialState = {\r\n  loading: true,\r\n  error: '',\r\n  viewers: {},\r\n}\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'FETCH_SUCCESS':\r\n      return {\r\n        loading: false,\r\n        error: '',\r\n        viewers: action.payload\r\n      }\r\n\r\n    case 'FETCH_ERROR':\r\n      return {\r\n        loading: false,\r\n        error: action.payload,\r\n        viewers: action.payload\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nfunction Dashboard({ error: errorToast }) {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    axios.get('https://secure.comp-rite.co.ke/livestream/getViewers.php')\r\n      .then(response => {\r\n        dispatch({ type: 'FETCH_SUCCESS', payload: response.data })\r\n        setLoading(false)\r\n      })\r\n      .catch(error => {\r\n        errorToast(\"Failed loading users: \" + error.message)\r\n        dispatch({ type: 'FETCH_ERROR', payload: error.message })\r\n      })\r\n  }, [errorToast])\r\n\r\n  return !loading && state.viewers ?\r\n    (\r\n      <ViewersContext.Provider value={{ viewers: state.viewers, dispatchViewers: dispatch }}>\r\n        <Container>\r\n          {/* Video setup section */}\r\n          <h4 className=\"mt-5\">SET VIDEO LINK</h4>\r\n          <VideoSetup />\r\n\r\n          {/* Generate token section */}\r\n          <h4 className=\"mt-5\">GENERATE LIVE TOKENS</h4>\r\n          <GenerateTokens />\r\n        </Container>\r\n      </ViewersContext.Provider>\r\n    ) : null;\r\n}\r\n\r\nexport default withToast(Dashboard);","import React, { useContext } from 'react';\r\n\r\nimport {\r\n  Container,\r\n  Navbar,\r\n  BootstrapNav,\r\n} from '../../utilities/BootstrapImports'\r\n\r\nimport styles from './Nav.module.scss';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { LiveContext } from '../LiveStream';\r\n\r\nimport axios from 'axios'\r\n\r\nfunction Nav({ history }) {\r\n  const { viewer: { full_name, live_token } } = useContext(LiveContext)\r\n\r\n  const logoutViewer = () => {\r\n    axios.get(`https://secure.comp-rite.co.ke/livestream/logoutViewer.php?token=${live_token}`)\r\n      .then(response => { })\r\n      .catch(error => console.log(\"Logout error\", error))\r\n\r\n    history.push('/logout')\r\n  }\r\n\r\n  return (\r\n    <Container className=\"p-0\" fluid>\r\n      <Navbar className={`${styles.navigation_container} p-0`} bg=\"light\" expand=\"lg\">\r\n        <Navbar.Brand className={`${styles.brand} ml-2`} href=\"#home\">LIVE STREAMING APP</Navbar.Brand>\r\n        <Navbar.Toggle className=\"m-2\" aria-controls=\"basic-navbar-nav\" />\r\n        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <BootstrapNav className=\"ml-auto\">\r\n            <BootstrapNav.Link className=\"ml-2\" as=\"span\">{full_name}</BootstrapNav.Link>\r\n            <BootstrapNav.Item className={`${styles.separator} mx-2 d-none d-lg-block`} as=\"span\"></BootstrapNav.Item>\r\n            <BootstrapNav.Link className={`${styles.logout} ml-2`} onClick={logoutViewer}>Logout </BootstrapNav.Link>\r\n          </BootstrapNav>\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default withRouter(Nav);","import React, { useContext, useEffect, useReducer, useState } from 'react';\r\n\r\nimport {\r\n  Row,\r\n  Col,\r\n  Badge,\r\n} from '../../utilities/BootstrapImports'\r\n\r\nimport {\r\n  //FaEye,\r\n  FaUser,\r\n} from 'react-icons/fa';\r\n\r\nimport styles from './Video.module.scss';\r\nimport { LiveContext } from '../LiveStream';\r\nimport axios from 'axios'\r\n\r\nconst initialState = {\r\n  loading: true,\r\n  error: '',\r\n  video: {},\r\n}\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'FETCH_SUCCESS':\r\n      return {\r\n        loading: false,\r\n        error: '',\r\n        video: action.payload\r\n      }\r\n\r\n    case 'FETCH_ERROR':\r\n      return {\r\n        loading: false,\r\n        error: action.payload,\r\n        video: action.payload\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nfunction Video() {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n  const [loading, setLoading] = useState(true)\r\n  const { viewer: { full_name } } = useContext(LiveContext)\r\n\r\n  useEffect(() => {\r\n    axios.get(\"https://secure.comp-rite.co.ke/livestream/getVideo.php\")\r\n      .then(response => {\r\n        dispatch({ type: \"FETCH_SUCCESS\", payload: response.data[0] })\r\n        setLoading(false)\r\n      })\r\n      .catch(error => {\r\n        dispatch({ type: \"FETCH_ERROR\", payload: error })\r\n        console.log(\"Error obtainig video: \", error.message)\r\n        setLoading(false)\r\n      })\r\n  }, [])\r\n\r\n  if (!loading) {\r\n    let src = \"\"\r\n    let videoStatus = \"\"\r\n\r\n    if (state.video) {\r\n      src = state.video.video_link\r\n      videoStatus = state.video.is_active\r\n    }\r\n    else {\r\n      src = \"https://www.youtube.com/embed/PUVkwlYKcAc\"\r\n      videoStatus = \"Demo Video\"\r\n    }\r\n\r\n    let videoStatusVariant = {}\r\n\r\n    switch (videoStatus) {\r\n      case \"pending\": {\r\n        videoStatusVariant = {\r\n          variant: \"secondary\",\r\n          videoStatus: \"pending\"\r\n        }\r\n        break\r\n      }\r\n\r\n      case \"true\": {\r\n        videoStatusVariant = {\r\n          variant: \"success\",\r\n          videoStatus: \"live\"\r\n        }\r\n        break\r\n      }\r\n\r\n      case \"false\": {\r\n        videoStatusVariant = {\r\n          variant: \"danger\",\r\n          videoStatus: \"Stream ended\"\r\n        }\r\n        break\r\n      }\r\n\r\n      default: {\r\n        videoStatusVariant = {\r\n          variant: \"warning\",\r\n          videoStatus: \"demo video\"\r\n        }\r\n      }\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <iframe\r\n          title=\"video\"\r\n          className={`${styles.video} w-100 m-0`}\r\n          src={src}\r\n          frameBorder=\"0\"\r\n          scrolling=\"no\"\r\n          allow=\"autoplay; encrypted-media; picture-in-picture\"\r\n          allowFullScreen />\r\n\r\n        <Row xs={1} lg={2} className={`${styles.details} m-0`} >\r\n          <Col className=\"p-0\">\r\n            <Row className=\"m-0\">\r\n              {/* Live stream status */}\r\n              <Col className={`${styles.separator} p-0 py-2 my-auto`} xs={12} md={4}>\r\n                <Badge className={`${styles.pill} py-1 px-3`} pill variant={videoStatusVariant.variant}>\r\n                  {videoStatusVariant.videoStatus}\r\n                </Badge>\r\n              </Col>\r\n\r\n              {/* Username */}\r\n              <Col className={`${styles.separator} ${styles.user} p-0 py-2 my-auto`} xs={12} md={8}><FaUser /> {full_name}</Col>\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n      </>\r\n    )\r\n  }\r\n  else {\r\n    return null\r\n  }\r\n}\r\n\r\nexport default React.memo(Video);","import React from 'react';\r\nimport { Button } from '../../../utilities/BootstrapImports'\r\nimport { FaRegCalendarAlt } from 'react-icons/fa';\r\nimport styles from './ToggleAgenda.module.scss';\r\n\r\nfunction ToggleAgenda({ handleClick }) {\r\n  return (\r\n    <Button\r\n      className={styles.button}\r\n      variant=\"dark\"\r\n      block\r\n      onClick={handleClick} >\r\n      <FaRegCalendarAlt color=\"white\" /> AGENDA\r\n    </Button>\r\n  );\r\n}\r\n\r\nexport default ToggleAgenda;","import React from 'react';\r\nimport { Table } from '../../../utilities/BootstrapImports'\r\n\r\nfunction AgendaTable({ agenda }) {\r\n  const tableSyles = {\r\n    fontSize: \"14px\"\r\n  }\r\n\r\n  return (\r\n    <Table style={tableSyles} striped hover responsive=\"sm\">\r\n      <thead>\r\n        <tr>\r\n          <th>Agenda</th>\r\n          <th>Question</th>\r\n          <th>Type</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {\r\n          agenda ?\r\n            agenda.map(({ id, name, question, type }) => {\r\n              return (\r\n                <tr key={`agenda-${id}`}>\r\n                  <td>{name}</td>\r\n                  <td>{question}</td>\r\n                  <td>{type}</td>\r\n                </tr>\r\n              )\r\n            }) : null\r\n        }\r\n      </tbody>\r\n    </Table>\r\n  );\r\n}\r\n\r\nexport default AgendaTable;","import React, { useCallback, useState } from 'react';\r\nimport axios from 'axios'\r\n\r\nimport {\r\n  Row,\r\n  Col\r\n} from '../../utilities/BootstrapImports'\r\n\r\nimport ToggleAgenda from './agenda_components/ToggleAgenda';\r\nimport AgendaTable from './agenda_components/AgendaTable';\r\n\r\nfunction Agenda() {\r\n  const [isVisible, setIsVisible] = useState(false)\r\n  const [agenda, setAgenda] = useState([])\r\n\r\n  const toggleAgenda = useCallback(() => {\r\n    if (!isVisible) {\r\n      axios.get(\"https://secure.comp-rite.co.ke/livestream/getAgenda.php\")\r\n        .then(response => {\r\n          setAgenda(response.data)\r\n        })\r\n        .catch(error => console.log(\"Error obtaining agenda: \", error.message))\r\n    }\r\n\r\n    setIsVisible(!isVisible)\r\n  }, [isVisible])\r\n\r\n  const my_props = {\r\n\r\n  }\r\n\r\n  if (agenda[0]) {\r\n    my_props[\"agenda\"] = agenda\r\n  }\r\n\r\n  return (\r\n    <Row xs={1}>\r\n      {/* Toggle agenda Button */}\r\n      <Col><ToggleAgenda handleClick={toggleAgenda} /></Col>\r\n\r\n\r\n      {/* Agenda */}\r\n      <Col>{isVisible && <AgendaTable {...my_props} />}</Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default React.memo(Agenda);","import React, { useReducer, useEffect, useState } from 'react';\r\nimport { Container } from '../utilities/BootstrapImports'\r\nimport Nav from './livestream/Nav';\r\nimport Video from './livestream/Video';\r\nimport Agenda from './livestream/Agenda';\r\nimport withToast from '../utilities/withToast';\r\nimport axios from 'axios'\r\nimport { useCookies } from 'react-cookie';\r\n\r\nexport const LiveContext = React.createContext()\r\n\r\nconst initialState = {\r\n  loading: true,\r\n  error: '',\r\n  viewer: {},\r\n}\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'FETCH_SUCCESS':\r\n      return {\r\n        loading: false,\r\n        error: '',\r\n        viewer: action.payload\r\n      }\r\n\r\n    case 'FETCH_ERROR':\r\n      return {\r\n        loading: false,\r\n        error: action.payload,\r\n        viewer: action.payload\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nfunction LiveStream({ match: { params: { token } }, history, error: errorToast }) {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n  const [loading, setLoading] = useState(true)\r\n  const [cookies, setCookie] = useCookies(['user_token'])\r\n\r\n  useEffect(() => {\r\n    axios.get(`https://secure.comp-rite.co.ke/livestream/getViewer.php?token=${token}`)\r\n      .then(response => {\r\n        const { is_live } = response.data[0]\r\n\r\n        if ((is_live === \"false\" && !cookies.user_token) || (cookies.user_token)) {\r\n          axios.get(`https://secure.comp-rite.co.ke/livestream/loginViewer.php?token=${token}`)\r\n            .then(response => {\r\n              const now = new Date()\r\n              const expiry = new Date(now.setHours(now.getHours() + 24));\r\n\r\n              dispatch({ type: 'FETCH_SUCCESS', payload: response.data[0] })\r\n\r\n              if (!cookies.user_token) setCookie('user_token', token, { path: '/', expires: expiry })\r\n\r\n              setLoading(false)\r\n            })\r\n        }\r\n        else {\r\n          dispatch({ type: 'FETCH_SUCCESS', payload: response.data[0] })\r\n          setLoading(false)\r\n        }\r\n      })\r\n      .catch(error => {\r\n        errorToast(\"Failed loading users: \" + error.message)\r\n        dispatch({ type: 'FETCH_ERROR', payload: error.message })\r\n        history.push('/')\r\n      })\r\n  }, [errorToast, cookies, setCookie, token, history])\r\n\r\n\r\n\r\n  const myStyles = {\r\n    fontSize: 0\r\n  }\r\n\r\n  if (!loading && state.viewer) {\r\n    const { is_live } = state.viewer\r\n\r\n    if (is_live === \"true\" && cookies.user_token) {\r\n      return (\r\n        <>\r\n          <LiveContext.Provider value={{ viewer: state.viewer }}>\r\n            {/* Navigation */}\r\n            <Nav />\r\n\r\n            {/* Video Section */}\r\n            <Container className=\"mt-4 text-center\" style={myStyles}>\r\n\r\n              {/* Video Container */}\r\n              <Video />\r\n\r\n              {/* Agenda Container */}\r\n              <Agenda />\r\n            </Container>\r\n          </LiveContext.Provider>\r\n        </>\r\n      )\r\n    }\r\n    else {\r\n      return (\r\n        <Container className=\"text-center pt-5\">\r\n          <h1>Rejected Connection</h1>\r\n          <p>You are unauthorised to view this page</p>\r\n        </Container>\r\n      )\r\n    }\r\n  }\r\n  else {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default withToast(LiveStream);","import React, { useEffect } from 'react';\r\nimport { withCookies } from 'react-cookie';\r\nimport { Container } from '../utilities/BootstrapImports'\r\n\r\nconst Logout = ({ cookies }) => {\r\n  useEffect(() => {\r\n    const cookie = cookies.get('user_token')\r\n\r\n    if (cookie) {\r\n      cookies.remove('user_token', { path: '/' })\r\n    }\r\n  }, [cookies])\r\n\r\n  return (\r\n    <Container className=\"text-center pt-5\">\r\n      <h1>Logout Successful</h1>\r\n      <p>You can login once more by visting the provided link</p>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withCookies(Logout);","import React from 'react';\r\nimport { Container } from '../utilities/BootstrapImports'\r\n\r\nconst Route404 = () => {\r\n  return (\r\n    <Container className=\"text-center pt-5\">\r\n      <h1>404 Not Found</h1>\r\n      <p>The page requested does not exist</p>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Route404;","import React from 'react';\r\nimport './App.css';\r\n\r\nimport Dashboard from './components/Dashboard';\r\nimport LiveStream from './components/LiveStream';\r\nimport Logout from './components/Logout';\r\nimport Route404 from './components/404';\r\n\r\nimport {\r\n  Switch,\r\n  Route\r\n} from 'react-router-dom';\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route exact path='/' component={Route404} />\r\n        <Route exact path='/dashboard' component={Dashboard} />\r\n        <Route exact path='/logout' component={Logout} />\r\n        <Route path='/:token' component={LiveStream} />\r\n      </Switch>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { HashRouter as Router } from 'react-router-dom';\r\nimport { CookiesProvider } from 'react-cookie';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <CookiesProvider>\r\n      <Router>\r\n        <App />\r\n      </Router>\r\n    </CookiesProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"video\":\"Video_video__37xDL\",\"details\":\"Video_details__3_NDD\",\"separator\":\"Video_separator__1GL_t\",\"pill\":\"Video_pill__36MA3\",\"viewers\":\"Video_viewers__1ZDQY\",\"user\":\"Video_user__2ams-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navigation_container\":\"Nav_navigation_container__2ZRD5\",\"brand\":\"Nav_brand__1bGwa\",\"separator\":\"Nav_separator__36T9F\",\"logout\":\"Nav_logout__24koh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preview_container\":\"VideoPreview_preview_container__2KVTo\",\"preview_font\":\"VideoPreview_preview_font__1MA0E\",\"icon\":\"VideoPreview_icon__29Tzh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"GenerateTokens_table__3R6Pn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"video_form\":\"VideoForm_video_form__2_iFS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"ToggleAgenda_button__3nzTu\"};"],"sourceRoot":""}